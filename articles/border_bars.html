<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Border Bars • gtUtils</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Jost-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Oswald-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Border Bars">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gtUtils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/border_bars.html">Border Bars</a></li>
    <li><a class="dropdown-item" href="../articles/general_uses.html">General Uses</a></li>
    <li><a class="dropdown-item" href="../articles/table_themes.html">Table Themes</a></li>
    <li><a class="dropdown-item" href="../articles/tier_list.html">Creating Tier Lists</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/andreweatherman/gtUtils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Border Bars</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/andreweatherman/gtUtils/blob/main/vignettes/border_bars.Rmd" class="external-link"><code>vignettes/border_bars.Rmd</code></a></small>
      <div class="d-none name"><code>border_bars.Rmd</code></div>
    </div>

    
    
<p>I’ll be honest: I didn’t know what to call this function. I still
don’t think that <code>gt_border_bars</code> is a particularly
<em>good</em> name. That said, this function offers <em>so much</em>
versatility for your table designs.</p>
<p>In essence, it places colored bars at the top or bottom of your
table. You’re able to stack as many bars as you’d like, or you could
pick just one color and include an image or text. The inspiration for
this function came from two different places: a) it opens the
possibility of more professional table footers with company logos and b)
you can include team logos or player headshots at the top of table
recaps.</p>
<p>In this vignette, we’re going to explore three distinct uses of the
<code>gt_border_bars</code> family.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">cbbdata</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gt.rstudio.com" class="external-link">gt</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://gtutils.aweatherman.com/" class="external-link">gtUtils</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="team-reports">Team Reports<a class="anchor" aria-label="anchor" href="#team-reports"></a>
</h2>
<p>I’m a basketball guy at heart. A lot of my visualization work
concerns college basketball – so let’s create a 2024 metric recap for
Duke, my alma mater, using <code>gt_border_bars_top</code>.</p>
<p>For data, we’re going to use my <a href="https://cbbdata.aweatherman.com" class="external-link">{cbbdata} package</a>. The
purpose of this vignette is to show off some quick uses of the function,
so we’re going to skip most discussion around the processing of this
data.</p>
<p>Let’s define the metrics we care about and whether a higher value is
better. We’re going to plot national percentiles on a location split
(home vs. away).</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">stats_to_consider</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"team"</span>, <span class="st">"barthag"</span>, <span class="st">"adj_o"</span>, <span class="st">"adj_d"</span>, <span class="st">"adj_t"</span>, <span class="st">"efg"</span>, <span class="st">"def_efg"</span>, <span class="st">"ftr"</span>, <span class="st">"def_ftr"</span>,</span>
<span>  <span class="st">"oreb_rate"</span>, <span class="st">"dreb_rate"</span>, <span class="st">"tov_rate"</span>, <span class="st">"def_tov_rate"</span>,</span>
<span>  <span class="st">"two_pt_pct"</span>, <span class="st">"three_pt_pct"</span>, <span class="st">"ft_pct"</span>, <span class="st">"def_two_pt_pct"</span>,</span>
<span>  <span class="st">"def_three_pt_pct"</span>, <span class="st">"def_ft_pct"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">higher_better</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"barthag"</span>, <span class="st">"adj_o"</span>, <span class="st">"adj_t"</span>, <span class="st">"efg"</span>, <span class="st">"ftr"</span>, <span class="st">"oreb_rate"</span>, <span class="st">"def_tov_rate"</span>,</span>
<span>  <span class="st">"two_pt_pct"</span>, <span class="st">"three_pt_pct"</span>, <span class="st">"ft_pct"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Let’s get the data:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">home_splits</span> <span class="op">&lt;-</span> <span class="fu">cbd_torvik_team_factors</span><span class="op">(</span>venue <span class="op">=</span> <span class="st">"home"</span>, year <span class="op">=</span> <span class="fl">2024</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fu">all_of</span><span class="op">(</span><span class="va">stats_to_consider</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">away_splits</span> <span class="op">&lt;-</span> <span class="fu">cbd_torvik_team_factors</span><span class="op">(</span>venue <span class="op">=</span> <span class="st">"away"</span>, year <span class="op">=</span> <span class="fl">2024</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fu">all_of</span><span class="op">(</span><span class="va">stats_to_consider</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Here’s a quick function to take that data and calculate percentiles
using <code>dplyr</code>. We’re going to pivot the data to a long format
for later use.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">calculate_percentiles</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">data</span>, <span class="va">location</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu">mutate</span><span class="op">(</span><span class="fu">across</span><span class="op">(</span><span class="fu">all_of</span><span class="op">(</span><span class="va">higher_better</span><span class="op">)</span>, <span class="op">~</span><span class="fu">percent_rank</span><span class="op">(</span><span class="va">.x</span><span class="op">)</span><span class="op">)</span>,</span>
<span>           <span class="fu">across</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="va">stats_to_consider</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"team"</span>, <span class="va">higher_better</span><span class="op">)</span><span class="op">)</span>, <span class="op">~</span><span class="fu">percent_rank</span><span class="op">(</span><span class="op">-</span><span class="va">.x</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu">pivot_longer</span><span class="op">(</span><span class="op">-</span><span class="va">team</span>, names_to <span class="op">=</span> <span class="st">"stat"</span>, values_to <span class="op">=</span> <span class="st">"percentile"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu">mutate</span><span class="op">(</span>location <span class="op">=</span> <span class="va">location</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Now, let’s calculate those percentiles on each split and combine the
data. We need to pivot the final result to a wide format so that we can
plot home and away <em>columns</em>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">home_percentiles</span> <span class="op">&lt;-</span> <span class="fu">calculate_percentiles</span><span class="op">(</span><span class="va">home_splits</span>, <span class="st">"home"</span><span class="op">)</span></span>
<span><span class="va">away_percentiles</span> <span class="op">&lt;-</span> <span class="fu">calculate_percentiles</span><span class="op">(</span><span class="va">away_splits</span>, <span class="st">"away"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">final_data</span> <span class="op">&lt;-</span> <span class="fu">bind_rows</span><span class="op">(</span><span class="va">home_percentiles</span>, <span class="va">away_percentiles</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">pivot_wider</span><span class="op">(</span>names_from <span class="op">=</span> <span class="va">location</span>, values_from <span class="op">=</span> <span class="va">percentile</span><span class="op">)</span></span></code></pre></div>
<p>For final processing, we need to do two more things: a) add the
general “group” of each stat and b) rename each stat to something more
readable:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dict</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  stat <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">final_data</span><span class="op">$</span><span class="va">stat</span><span class="op">)</span>,</span>
<span>  new_name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Barthag"</span>, <span class="st">"Adj. Off"</span>, <span class="st">"Adj. Def"</span>, <span class="st">"Adj. Tempo"</span>, <span class="st">"Eff. FG%"</span>, <span class="st">"Eff. FG%"</span>,</span>
<span>               <span class="st">"FTA per FGA"</span>, <span class="st">"FTA per FGA"</span>, <span class="st">"Off. Rebound Rate"</span>, <span class="st">"Def. Rebound Rate"</span>,</span>
<span>               <span class="st">"Turnover Rate"</span>, <span class="st">"Turnover Rate"</span>, <span class="st">"2FG%"</span>, <span class="st">"3FG%"</span>, <span class="st">"FT%"</span>, <span class="st">"2FG%"</span>, <span class="st">"3FG%"</span>, <span class="st">"FT%"</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">deframe</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">final_data</span> <span class="op">&lt;-</span> <span class="va">final_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">team</span> <span class="op">==</span> <span class="st">"Duke"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span></span>
<span>    stat_group <span class="op">=</span> <span class="fu">case_when</span><span class="op">(</span></span>
<span>      <span class="va">stat</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"barthag"</span>, <span class="st">"adj_o"</span>, <span class="st">"adj_d"</span>, <span class="st">"adj_t"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Metrics"</span>,</span>
<span>      <span class="va">stat</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"efg"</span>, <span class="st">"ftr"</span>, <span class="st">"oreb_rate"</span>, <span class="st">"tov_rate"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Offensive Four Factors"</span>,</span>
<span>      <span class="va">stat</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"def_efg"</span>, <span class="st">"def_ftr"</span>, <span class="st">"dreb_rate"</span>, <span class="st">"def_tov_rate"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Defensive Four Factors"</span>,</span>
<span>      <span class="va">stat</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"two_pt_pct"</span>, <span class="st">"three_pt_pct"</span>, <span class="st">"ft_pct"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Offensive Shooting"</span>,</span>
<span>      .default <span class="op">=</span> <span class="st">"Defensive Shooting"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    stat <span class="op">=</span> <span class="va">dict</span><span class="op">[</span><span class="va">stat</span><span class="op">]</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p>Awesome! Now we have our data. Let’s throw it over to
<code>gt</code>. To create row groups in <code>gt</code>, remember to
pass in your data <em>grouped by</em> that category. For this table, we
are using several functions from <code>gtUtils</code>:</p>
<ul>
<li>
<code>gt_theme_savant</code> theme for a clean look</li>
<li>
<code>gt_color_pills</code> to fill our two percentile columns.
Notice that we are formatting each as a percent and trimming to one
digit. We also set our domain, [0, 1], and pass through a palette.</li>
<li>
<code>gt_538_caption</code> to include some more information at the
bottom of the table.</li>
</ul>
<p>All said, <code>gt_border_bars_top</code> is the function that we
really care about. To keep with our theming, we are using a solid black
border. We are passing through a link to the dark-mode Duke logo. You
will need to play around with <code>bar_height</code> when you include
an image. By default, the function will pick-up the font family that
your theme uses for table headers. You can also mess around with
<code>text_padding</code>, or you can switch image/text positions by
using <code>text_align</code> or <code>img_align</code>.</p>
<p>This is a really quick example. You can easily get something more
descriptive with additional time or effort.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">final_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">stat_group</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/cols_hide.html" class="external-link">cols_hide</a></span><span class="op">(</span><span class="va">team</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_theme_savant.html">gt_theme_savant</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_color_pills.html">gt_color_pills</a></span><span class="op">(</span><span class="va">home</span>,</span>
<span>    domain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, format_type <span class="op">=</span> <span class="st">"percent"</span>, digits <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    palette <span class="op">=</span> <span class="st">"ggsci::green_material"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_color_pills.html">gt_color_pills</a></span><span class="op">(</span><span class="va">away</span>,</span>
<span>    domain <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span><span class="op">)</span>, format_type <span class="op">=</span> <span class="st">"percent"</span>, digits <span class="op">=</span> <span class="fl">1</span>,</span>
<span>    palette <span class="op">=</span> <span class="st">"ggsci::green_material"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_538_caption.html">gt_538_caption</a></span><span class="op">(</span><span class="st">"Data pulled using {cbbdata} from Barttorvik"</span>, <span class="st">"Viz. by @andreweatherman for a {gtUtils} vignette"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/cols_width.html" class="external-link">cols_width</a></span><span class="op">(</span><span class="va">home</span><span class="op">:</span><span class="va">away</span> <span class="op">~</span> <span class="fu"><a href="https://gt.rstudio.com/reference/px.html" class="external-link">px</a></span><span class="op">(</span><span class="fl">90</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/cols_label.html" class="external-link">cols_label</a></span><span class="op">(</span>stat <span class="op">=</span> <span class="st">""</span>, home <span class="op">=</span> <span class="st">"At Home"</span>, away <span class="op">=</span> <span class="st">"On Road"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/cols_align.html" class="external-link">cols_align</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="op">-</span><span class="va">stat</span>, <span class="st">"center"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_style.html" class="external-link">tab_style</a></span><span class="op">(</span>locations <span class="op">=</span> <span class="fu"><a href="https://gt.rstudio.com/reference/cells_body.html" class="external-link">cells_body</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="op">-</span><span class="va">stat</span><span class="op">)</span>, <span class="fu"><a href="https://gt.rstudio.com/reference/cell_text.html" class="external-link">cell_text</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="st">"bold"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_options.html" class="external-link">tab_options</a></span><span class="op">(</span>column_labels.border.top.style <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_border_bars_top.html">gt_border_bars_top</a></span><span class="op">(</span></span>
<span>    colors <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>    img <span class="op">=</span> <span class="st">"https://a.espncdn.com/i/teamlogos/ncaa/500-dark/150.png"</span>,</span>
<span>    text <span class="op">=</span> <span class="st">"2024 Recap: Duke"</span>,</span>
<span>    text_padding <span class="op">=</span> <span class="fl">10</span>,</span>
<span>    text_size <span class="op">=</span> <span class="fl">20</span>,</span>
<span>    img_width <span class="op">=</span> <span class="fl">40</span>,</span>
<span>    img_height <span class="op">=</span> <span class="fl">40</span>,</span>
<span>    bar_height <span class="op">=</span> <span class="fl">60</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="images/border-bars-player-report.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="table-footers">Table Footers<a class="anchor" aria-label="anchor" href="#table-footers"></a>
</h2>
<p>Another possibility is using <code>gt_border_bars_bottom</code> to
include a company or personal logo. For this example, let’s pull a
TidyTuesday dataset about Rolling Stone’s “500 Greatest Albums” and pull
the top 15.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">read_csv</span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2024/2024-05-07/rolling_stone.csv"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">slice_min</span><span class="op">(</span><span class="va">rank_2020</span>, n <span class="op">=</span> <span class="fl">15</span><span class="op">)</span></span></code></pre></div>
<p>Again, this is a really quick and small example. The table itself is
pretty basic. We use <code>gt_theme_sofa</code> on light mode, throw in
some row striping, and include <em>both</em> top and bottom bars. In the
bottom bar, we add some source text, push it 12px size, and toss it on
normal weight. The image we placed in the bottom <em>could</em> be
clearer, but there’s nothing that we can do about that. We stretch it to
100px wide and 30px tall. And with fewer than 20 lines of code, we have
a decent start to a table!</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">mutate</span><span class="op">(</span>album <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="va">rank_2020</span>, <span class="st">". "</span>, <span class="va">album</span>, <span class="st">" ("</span>, <span class="va">release_year</span>, <span class="st">")"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">album</span>, artist <span class="op">=</span> <span class="va">clean_name</span>, gender <span class="op">=</span> <span class="va">artist_gender</span>, <span class="va">genre</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"table"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_theme_sofa.html">gt_theme_sofa</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/sub_missing.html" class="external-link">sub_missing</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/cols_align.html" class="external-link">cols_align</a></span><span class="op">(</span>columns <span class="op">=</span> <span class="st">"artist"</span>, <span class="st">"left"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/opt_all_caps.html" class="external-link">opt_all_caps</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/opt_row_striping.html" class="external-link">opt_row_striping</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_border_bars_bottom.html">gt_border_bars_bottom</a></span><span class="op">(</span><span class="st">"#1c2632"</span>,</span>
<span>    bar_height <span class="op">=</span> <span class="fl">25</span>,</span>
<span>    img <span class="op">=</span> <span class="st">"https://www.sxsw.com/wp-content/uploads/2022/11/RollingStone-BW.png"</span>,</span>
<span>    text <span class="op">=</span> <span class="st">"Data pulled from Tidy Tuesday"</span>,</span>
<span>    img_width <span class="op">=</span> <span class="fl">100</span>, img_height <span class="op">=</span> <span class="fl">30</span>, text_size <span class="op">=</span> <span class="fl">12</span>, text_weight <span class="op">=</span> <span class="st">"normal"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_border_bars_top.html">gt_border_bars_top</a></span><span class="op">(</span><span class="st">"#1c2632"</span>, bar_height <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span></span>
<span>    title <span class="op">=</span> <span class="st">"The 15 Greatest Albums of All Time"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="fu"><a href="https://gt.rstudio.com/reference/md.html" class="external-link">md</a></span><span class="op">(</span><span class="st">"Surveying the 2020 Rolling Stone's *500 Greatest Albums List*"</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="images/border-bars-rolling-stones.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="just-for-fun">Just for fun<a class="anchor" aria-label="anchor" href="#just-for-fun"></a>
</h2>
<p>Another use of these functions is to add some pizzazz to your table.
With <code>gt_border_bars</code>, you don’t need to add any text or
image! Let’s whip up a quick example and place some bars on the bottom
for fun.</p>
<p>If you do not specify text or an image, you can have as many bars as
you’d like – all being placed with equal heights. They are plotted in
sequential order, meaning that the first color in your vector is placed
at the top and the last color is at the bottom.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">withr</span><span class="fu">::</span><span class="fu"><a href="https://withr.r-lib.org/reference/with_seed.html" class="external-link">with_seed</a></span><span class="op">(</span></span>
<span>  seed <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  <span class="op">{</span></span>
<span>    <span class="fu">nycflights13</span><span class="fu">::</span><span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>      <span class="fu">slice_sample</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">15</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>      <span class="fu">select</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_theme_gtutils.html">gt_theme_gtutils</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span><span class="st">"Example Title"</span>, <span class="st">"Example Subtitle"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_border_bars_bottom.html">gt_border_bars_bottom</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#EDBD68"</span>, <span class="st">"#F2704E"</span>, <span class="st">"#DE5152"</span>, <span class="st">"#A43845"</span>, <span class="st">"#602B53"</span><span class="op">)</span><span class="op">)</span></span>
<span>  </span></code></pre></div>
<p><img src="images/border-bars-for-fun.png" width="75%" style="display: block; margin: auto;"></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andrew Weatherman.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
