<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>General Uses • gtUtils</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/Jost-0.4.9/font.css" rel="stylesheet">
<link href="../deps/JetBrains_Mono-0.4.9/font.css" rel="stylesheet">
<link href="../deps/Oswald-0.4.9/font.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="General Uses">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">gtUtils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/border_bars.html">Border Bars</a></li>
    <li><a class="dropdown-item" href="../articles/general_uses.html">General Uses</a></li>
    <li><a class="dropdown-item" href="../articles/table_themes.html">Table Themes</a></li>
    <li><a class="dropdown-item" href="../articles/tier_list.html">Creating Tier Lists</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/andreweatherman/gtUtils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>General Uses</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/andreweatherman/gtUtils/blob/main/vignettes/general_uses.Rmd" class="external-link"><code>vignettes/general_uses.Rmd</code></a></small>
      <div class="d-none name"><code>general_uses.Rmd</code></div>
    </div>

    
    
<p>This vignette briefly explores functionalities possible with
<code>gtUtils</code> and <code>gt</code>.</p>
<div class="section level2">
<h2 id="coloring-cells-with-pills">Coloring cells with pills<a class="anchor" aria-label="anchor" href="#coloring-cells-with-pills"></a>
</h2>
<p>This section showcases how to use the <code>gt_color_pills</code>
function from the <code>gtUtils</code> package to style cells with
rounded color “pills” in a table. This function is inspired by similar
features in the <code>gtExtras</code> package by Thomas Mock but adds
its own customizable elements for formatting and color control.</p>
<div class="section level4">
<h4 id="basic-usage">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage"></a>
</h4>
<p>The simplest way to use <code>gt_color_pills</code> is to apply it to
a column in a gt table. By default, it will color the cells on a
continuous scale.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_color_pills.html">gt_color_pills</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/pills-base.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="trimming-digits">Trimming Digits<a class="anchor" aria-label="anchor" href="#trimming-digits"></a>
</h4>
<p>You can control the number of decimal places displayed using the
digits argument. In this example, we trim the values to one decimal
place:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_color_pills.html">gt_color_pills</a></span><span class="op">(</span><span class="va">mpg</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/pills-trimming.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="coloring-ordinal-ranks">Coloring ordinal ranks<a class="anchor" aria-label="anchor" href="#coloring-ordinal-ranks"></a>
</h4>
<p>By default, <code>gt_color_pills</code> applies a continuous color
scale based on the range of the data. However, you can also color based
on ordinal ranks within the column by setting <code>fill_type</code> to
“rank”. Additionally, use <code>rank_order</code> to specify whether the
highest or lowest value should be ranked first (“desc” or “asc”,
defaults to descending order).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">add_row</span><span class="op">(</span>mpg <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_color_pills.html">gt_color_pills</a></span><span class="op">(</span><span class="va">mpg</span>, fill_type <span class="op">=</span> <span class="st">"rank"</span>, rank_order <span class="op">=</span> <span class="st">"asc"</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/pills-ordinal_ranks.png" width="75%" style="display: block; margin: auto;"></p>
<p>In this example, the new outlier (1 mpg) doesn’t skew the coloring of
other values as it would with a continuous scale, where all higher
values would be compressed into the upper part of the range (green).</p>
</div>
<div class="section level4">
<h4 id="formatting-options">Formatting Options<a class="anchor" aria-label="anchor" href="#formatting-options"></a>
</h4>
<p><code>gt_color_pills</code> supports several value formats: number,
comma, currency, and percent. The default is “number,” but you can
specify the desired format using the format_type argument.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">mutate</span><span class="op">(</span>cyl <span class="op">=</span> <span class="va">cyl</span> <span class="op">*</span> <span class="fl">10e4</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_color_pills.html">gt_color_pills</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_color_pills.html">gt_color_pills</a></span><span class="op">(</span><span class="va">cyl</span>, format <span class="op">=</span> <span class="st">"comma"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_color_pills.html">gt_color_pills</a></span><span class="op">(</span><span class="va">disp</span>, format <span class="op">=</span> <span class="st">"currency"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_color_pills.html">gt_color_pills</a></span><span class="op">(</span><span class="va">hp</span>, format <span class="op">=</span> <span class="st">"percent"</span>, scale_percent <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/pills-formats.png" width="75%" style="display: block; margin: auto;"></p>
<p>You can also append a custom suffix to the formatted values, such as
adding “mpg” to miles per gallon:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_color_pills.html">gt_color_pills</a></span><span class="op">(</span><span class="va">mpg</span>, suffix <span class="op">=</span> <span class="st">" mpg"</span>, digits <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/pills-custom_suffix.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="dynamic-pill-widths-and-height">Dynamic Pill Widths and Height<a class="anchor" aria-label="anchor" href="#dynamic-pill-widths-and-height"></a>
</h4>
<p>The width of all pills in a column dynamically adjusts to the longest
value in that column, with 3px of padding on each side. You can also
control the height of the pills using the pill_height argument. By
default, it is set to 25px, but you can increase or decrease it as
needed.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_color_pills.html">gt_color_pills</a></span><span class="op">(</span><span class="va">mpg</span>, digits <span class="op">=</span> <span class="fl">1</span>, pill_height <span class="op">=</span> <span class="fl">40</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/pills-auto_width_height.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="automatic-text-color-for-contrast">Automatic Text Color for Contrast<a class="anchor" aria-label="anchor" href="#automatic-text-color-for-contrast"></a>
</h4>
<p><code>gt_color_pills</code> automatically adjusts the text color
inside the pill using <code>gt:::ideal_fgnd_color</code> to ensure
readability. For example, with a palette ranging from white to black,
the function ensures that the text color changes appropriately:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_color_pills.html">gt_color_pills</a></span><span class="op">(</span><span class="va">mpg</span>, digits <span class="op">=</span> <span class="fl">1</span>, palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#ffffff"</span>, <span class="st">"#000000"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/pills-auto_text_contrast.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level4">
<h4 id="adding-borders-to-pills">Adding Borders to Pills<a class="anchor" aria-label="anchor" href="#adding-borders-to-pills"></a>
</h4>
<p>You can further customize the pills by adding borders using the
<code>outline_color</code> and <code>outline_width</code> arguments. For
example, setting a red border with a 2px width:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_color_pills.html">gt_color_pills</a></span><span class="op">(</span><span class="va">mpg</span>, digits <span class="op">=</span> <span class="fl">1</span>, outline_color <span class="op">=</span> <span class="st">"red"</span>, outline_width <span class="op">=</span> <span class="fl">2</span>, palette <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#ffffff"</span>, <span class="st">"#000000"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/pills-adding_borders.png" width="75%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="colored-indicator-boxes">Colored indicator boxes<a class="anchor" aria-label="anchor" href="#colored-indicator-boxes"></a>
</h2>
<p>The <code>gt_indicator_boxes</code> function adds colored boxes to a
gt table, allowing you to visually represent indicator values. This
function lets you define your own rule for what qualifies as a “yes” or
“no” value, choose custom colors, and decide whether to show text within
the boxes.</p>
<p>This function was inspired by an <a href="https://www.nytimes.com/2024/04/19/nyregion/trump-trial-jury-news.html" class="external-link">article
published in the New York Times</a>. Prior to making this package, I <a href="https://www.bucketsandbytes.com/p/a-different-approach-to-survey-responses" class="external-link">recreated
the original table using {gt} and custom HTML</a>. A similar process is
used with <code>gt_indicator_boxes</code>.</p>
<p>In general, the data passed to <code>gt</code> when using
<code>gt_indicator_boxes</code> should be in a wide format and look
something like this:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">sample_data</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,</span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">replicate</a></span><span class="op">(</span><span class="fl">7</span>, <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="cn">NA</span><span class="op">)</span>, <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>, simplify <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"indicator_"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">7</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="basic-usage-1">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage-1"></a>
</h3>
<p>By default, <code>gt_indicator_boxes</code> colors cells with 1 as
“yes” (colored) and 0 or NA as “no” (uncolored). Here, we apply the
function to all columns except for id, which serves as the key
column.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sample_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_indicator_boxes.html">gt_indicator_boxes</a></span><span class="op">(</span>key_columns <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/boxes-base.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="changing-indicator-values">Changing Indicator Values<a class="anchor" aria-label="anchor" href="#changing-indicator-values"></a>
</h3>
<p>The 0-1 indicator defaults are customizable using the
<code>indicator_vals</code> argument. You can specify your own values to
define what is considered a “yes” or “no.” For example, if your data
uses 5 to represent “yes” and 0 for “no,” you can set
<code>indicator_vals = c(0, 5)</code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span>
<span>  val_1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span>
<span>  val_2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fl">10</span>, replace <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_indicator_boxes.html">gt_indicator_boxes</a></span><span class="op">(</span>key_columns <span class="op">=</span> <span class="st">"id"</span>, indicator_vals <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="showing-text-inside-the-boxes">Showing Text Inside the Boxes<a class="anchor" aria-label="anchor" href="#showing-text-inside-the-boxes"></a>
</h3>
<p>You can choose to display text inside the indicator boxes by setting
<code>show_text = TRUE</code>. This is useful when you want the numeric
values to be visible within the color indicators.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sample_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_indicator_boxes.html">gt_indicator_boxes</a></span><span class="op">(</span>key_columns <span class="op">=</span> <span class="st">"id"</span>, show_text <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/boxes-text.png" width="75%" style="display: block; margin: auto;"></p>
<p>By default, NA values are hidden when using <code>show_text</code>.
However, you can choose to display NA values explicitly by setting
<code>show_na_as_na = TRUE</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sample_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_indicator_boxes.html">gt_indicator_boxes</a></span><span class="op">(</span>key_columns <span class="op">=</span> <span class="st">"id"</span>, show_text <span class="op">=</span> <span class="cn">TRUE</span>, show_na_as_na <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/boxes-text-na.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="controlling-which-text-is-shown">Controlling Which Text is Shown<a class="anchor" aria-label="anchor" href="#controlling-which-text-is-shown"></a>
</h3>
<p>The <code>show_only</code> argument allows you to display text for
specific values. You can choose to display text only for “yes”
(show_only = “yes”), only for “no” (show_only = “no”), or only for NA
values (show_only = “NA”).</p>
<p>Here’s an example where we show text only for “yes” values:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sample_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_indicator_boxes.html">gt_indicator_boxes</a></span><span class="op">(</span>key_columns <span class="op">=</span> <span class="st">"id"</span>, show_text <span class="op">=</span> <span class="cn">TRUE</span>, show_only <span class="op">=</span> <span class="st">"yes"</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/boxes-show-only-yes.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="customizing-colors">Customizing Colors<a class="anchor" aria-label="anchor" href="#customizing-colors"></a>
</h3>
<p>The <code>gt_indicator_boxes</code> function allows full control over
the colors used for “yes,” “no,” and NA values. Below, we set “yes”
values to green and “no” values to grey. By default, NA values will
inherit the color associated with “no,” but you can set a unique color
for NAs.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sample_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_indicator_boxes.html">gt_indicator_boxes</a></span><span class="op">(</span>key_columns <span class="op">=</span> <span class="st">"id"</span>, color_yes <span class="op">=</span> <span class="st">"#28a745"</span>, color_no <span class="op">=</span> <span class="st">"#f5f5f5"</span>, color_na <span class="op">=</span> <span class="st">"#f39c12"</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/boxes-custom-colors.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="adding-borders-to-boxes">Adding Borders to Boxes<a class="anchor" aria-label="anchor" href="#adding-borders-to-boxes"></a>
</h3>
<p>You can also add borders around the indicator boxes using the
<code>border_color</code> and <code>border_width</code> arguments. This
is especially useful when using themes with non-white table backgrounds,
as it helps the boxes stand out more clearly. By default, no border is
applied, but you can specify a color and adjust the width as needed.</p>
<p>Here’s an example where we add black borders with a width of 0.5px
while using <code>gt_theme_sofa</code>.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sample_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_theme_sofa.html">gt_theme_sofa</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_indicator_boxes.html">gt_indicator_boxes</a></span><span class="op">(</span>key_columns <span class="op">=</span> <span class="st">"id"</span>, border_color <span class="op">=</span> <span class="st">"black"</span>, border_width <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/boxes-borders.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="using-custom-functions-for-indicators">Using Custom Functions for Indicators<a class="anchor" aria-label="anchor" href="#using-custom-functions-for-indicators"></a>
</h3>
<p>The <code>gt_indicator_boxes</code> function is highly flexible,
allowing you to apply custom logic for determining when a box should be
colored. This is particularly useful when the “yes” or “no” status is
not simply based on binary values but follows more complex rules.</p>
<p>Let’s create a spoof sales dataset where we have multiple indicators
for different metrics. We’ll use a custom function to define whether a
box should be colored based on thresholds for each metric.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span><span class="va">product_data</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  product_id <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">10</span>,</span>
<span>  sales <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, min <span class="op">=</span> <span class="fl">50</span>, max <span class="op">=</span> <span class="fl">200</span><span class="op">)</span>, </span>
<span>  customer_satisfaction <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, min <span class="op">=</span> <span class="fl">0.5</span>, max <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>,</span>
<span>  defect_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">0.1</span><span class="op">)</span>,</span>
<span>  return_rate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fl">10</span>, min <span class="op">=</span> <span class="fl">0</span>, max <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>In this scenario, we want to define custom rules for each metric:</p>
<ul>
<li>
<strong>Sales:</strong> A “yes” indicator if sales are greater than
150.</li>
<li>
<strong>Customer Satisfaction:</strong> A “yes” indicator if the
satisfaction score is greater than 0.75.</li>
<li>
<strong>Defect Rate:</strong> A “yes” indicator if the defect rate
is less than 0.05.</li>
<li>
<strong>Return Rate:</strong> A “yes” indicator if the return rate
is less than 0.10.</li>
</ul>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">custom_indicator_function</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">column_name</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu">case_when</span><span class="op">(</span></span>
<span>    <span class="va">column_name</span> <span class="op">==</span> <span class="st">"sales"</span> <span class="op">~</span> <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">150</span>,</span>
<span>    <span class="va">column_name</span> <span class="op">==</span> <span class="st">"customer_satisfaction"</span> <span class="op">~</span> <span class="va">x</span> <span class="op">&gt;</span> <span class="fl">0.75</span>,</span>
<span>    <span class="va">column_name</span> <span class="op">==</span> <span class="st">"defect_rate"</span> <span class="op">~</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0.05</span>,</span>
<span>    <span class="va">column_name</span> <span class="op">==</span> <span class="st">"return_rate"</span> <span class="op">~</span> <span class="va">x</span> <span class="op">&lt;</span> <span class="fl">0.10</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="cn">NA_real_</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="va">product_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_indicator_boxes.html">gt_indicator_boxes</a></span><span class="op">(</span></span>
<span>    key_columns <span class="op">=</span> <span class="st">"product_id"</span>,</span>
<span>    indicator_rule <span class="op">=</span> <span class="va">custom_indicator_function</span>,</span>
<span>    color_yes <span class="op">=</span> <span class="st">"#4CAF50"</span>,  </span>
<span>    color_no <span class="op">=</span> <span class="st">"#FF5722"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="images/boxes-custom-fx.png" width="75%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="captions">538 Captions<a class="anchor" aria-label="anchor" href="#captions"></a>
</h2>
<p>One of my favorite table formats ever is the footnote + caption
combination in old FiveThirtyEight tables. I think it just looks so
clean. I recreated it in <a href="https://www.bucketsandbytes.com/p/lots-of-columns-use-this-gt-trick" class="external-link">this
blog post</a>, and now that feature is baked into <code>gtUtils</code>
with the <code>gt_538_caption</code> function.</p>
<p>Because of how the function is created, it is not recommended to add
additional footnotes if you’re including this in your table. The
function itself takes two arguments: <code>top_caption</code> and
<code>bottom_caption</code>. The top caption is aligned to the left,
while the bottom caption is aligned to the right. The top caption is
essentially a footnote – so you can edit any formatting by targetting
that location – and the bottom caption is a source note. The line
separating the two will be the same color as your footnote text.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">nycflights13</span><span class="fu">::</span><span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">slice_sample</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"table"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_theme_savant.html">gt_theme_savant</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_538_caption.html">gt_538_caption</a></span><span class="op">(</span><span class="st">"Top of gt_538_caption"</span>, <span class="st">"Bottom of caption"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span><span class="st">"Sample table"</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/538-caption-base.png" width="75%" style="display: block; margin: auto;"></p>
<p>For example, let’s adjust the bottom text by making it larger and
bold.</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">nycflights13</span><span class="fu">::</span><span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">slice_sample</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span>id <span class="op">=</span> <span class="st">"table"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_theme_savant.html">gt_theme_savant</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_538_caption.html">gt_538_caption</a></span><span class="op">(</span><span class="st">"Top of gt_538_caption"</span>, <span class="st">"Larger and bolder"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_style.html" class="external-link">tab_style</a></span><span class="op">(</span>locations <span class="op">=</span> <span class="fu"><a href="https://gt.rstudio.com/reference/cells_source_notes.html" class="external-link">cells_source_notes</a></span><span class="op">(</span><span class="op">)</span>, <span class="fu"><a href="https://gt.rstudio.com/reference/cell_text.html" class="external-link">cell_text</a></span><span class="op">(</span>weight <span class="op">=</span> <span class="st">"bold"</span>, size <span class="op">=</span> <span class="fu"><a href="https://gt.rstudio.com/reference/px.html" class="external-link">px</a></span><span class="op">(</span><span class="fl">16</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span><span class="st">"Sample table"</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/538-caption-bold.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="boxes-for-legends">Boxes for legends<a class="anchor" aria-label="anchor" href="#boxes-for-legends"></a>
</h2>
<p>The <code>gt_centered_legend</code> function allows you to create a
centered title, subtitle, and a key or legend in a gt table. You can
specify whether the legend labels appear inside or outside the colored
boxes.</p>
<p>You need to pass through a legend tibble with corresponding color and
label entries, like so:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">key_info</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#FCCF10"</span>, <span class="st">"#EEEEEE"</span><span class="op">)</span>,</span>
<span>  label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Yes"</span>, <span class="st">"No"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sample_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_theme_savant.html">gt_theme_savant</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_indicator_boxes.html">gt_indicator_boxes</a></span><span class="op">(</span>key_columns <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_centered_legend.html">gt_centered_legend</a></span><span class="op">(</span></span>
<span>    key_info <span class="op">=</span> <span class="va">key_info</span>,</span>
<span>    heading <span class="op">=</span> <span class="st">"Sample title"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Sample subtitle"</span>,</span>
<span>    label_placement <span class="op">=</span> <span class="st">"outside"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="images/legend-outside.png" width="75%" style="display: block; margin: auto;"></p>
<p>You can also place the labels <em>inside</em> the colored boxes by
setting <code>label_placement = "inside"</code>. This is helpful when
space is limited or when you want the labels integrated with the color
indicators.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">key_info</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"#FCCF10"</span>, <span class="st">"#EEEEEE"</span><span class="op">)</span>,</span>
<span>  label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Yes"</span>, <span class="st">"No"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">sample_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_theme_savant.html">gt_theme_savant</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_indicator_boxes.html">gt_indicator_boxes</a></span><span class="op">(</span>key_columns <span class="op">=</span> <span class="st">"id"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_centered_legend.html">gt_centered_legend</a></span><span class="op">(</span></span>
<span>    key_info <span class="op">=</span> <span class="va">key_info</span>,</span>
<span>    heading <span class="op">=</span> <span class="st">"Sample title"</span>,</span>
<span>    subtitle <span class="op">=</span> <span class="st">"Sample subtitle"</span>,</span>
<span>    label_placement <span class="op">=</span> <span class="st">"inside"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="images/legend-inside.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="stacked-column-headers">Stacked column headers<a class="anchor" aria-label="anchor" href="#stacked-column-headers"></a>
</h2>
<p>The <code>gt_column_subheaders</code> function allows you to create
stacked column headers with customizable subtitles in a gt table. This
is useful for displaying extra context or explanations under the main
column headers.</p>
<div class="section level3">
<h3 id="basic-usage-2">Basic Usage<a class="anchor" aria-label="anchor" href="#basic-usage-2"></a>
</h3>
<p>Here’s a simple example where we add custom headings and subtitles
for two columns: mpg and hp using the <code>mtcars</code> dataset.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">mpg</span>, <span class="va">hp</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_theme_savant.html">gt_theme_savant</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_column_subheaders.html">gt_column_subheaders</a></span><span class="op">(</span></span>
<span>    mpg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>heading <span class="op">=</span> <span class="st">"Miles per Gallon"</span>, subtitle <span class="op">=</span> <span class="st">"Fuel Efficiency"</span><span class="op">)</span>,</span>
<span>    hp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>heading <span class="op">=</span> <span class="st">"Horsepower"</span>, subtitle <span class="op">=</span> <span class="st">"Power Output"</span><span class="op">)</span>,</span>
<span>    heading_color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>    subtitle_color <span class="op">=</span> <span class="st">"gray"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="images/stacked-headers-base.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level3">
<h3 id="customizing-headings-and-subtitles">Customizing Headings and Subtitles<a class="anchor" aria-label="anchor" href="#customizing-headings-and-subtitles"></a>
</h3>
<p>You can easily customize the colors and font weights for both the
main headings and subtitles by using the <code>heading_color</code>,
<code>subtitle_color</code>, <code>heading_weight</code>, and
<code>subtitle_weight</code> arguments.</p>
<p>For instance, here’s how you can apply different colors and font
styles:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="va">mpg</span>, <span class="va">hp</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_theme_savant.html">gt_theme_savant</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_column_subheaders.html">gt_column_subheaders</a></span><span class="op">(</span></span>
<span>    mpg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>heading <span class="op">=</span> <span class="st">"Miles per Gallon"</span>, subtitle <span class="op">=</span> <span class="st">"Fuel Efficiency"</span><span class="op">)</span>,</span>
<span>    hp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>heading <span class="op">=</span> <span class="st">"Horsepower"</span>, subtitle <span class="op">=</span> <span class="st">"Power Output"</span><span class="op">)</span>,</span>
<span>    heading_color <span class="op">=</span> <span class="st">"darkred"</span>,</span>
<span>    subtitle_color <span class="op">=</span> <span class="st">"black"</span>,</span>
<span>    heading_weight <span class="op">=</span> <span class="st">"normal"</span>,</span>
<span>    subtitle_weight <span class="op">=</span> <span class="st">"lighter"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<p><img src="images/stacked-headers-custom.png" width="75%" style="display: block; margin: auto;"></p>
</div>
</div>
<div class="section level2">
<h2 id="stacking-multiple-tables">Stacking multiple tables<a class="anchor" aria-label="anchor" href="#stacking-multiple-tables"></a>
</h2>
<p>The <code>gt_stack_tables</code> function allows you to vertically
stack multiple gt tables into a single output. This is particularly
useful when you want to display or save multiple tables in one
continuous view, e.g. a game box score.</p>
<p>For example, let’s define three sample tables. In the first table,
we’re going to include a table header and subheader. In the final table,
we’re going to include a caption. We’re not going to include
<em>any</em> annotations in the final table.</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tab1</span> <span class="op">&lt;-</span> <span class="fu">nycflights13</span><span class="fu">::</span><span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">slice_sample</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_theme_kenpom.html">gt_theme_kenpom</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/tab_header.html" class="external-link">tab_header</a></span><span class="op">(</span><span class="st">"Stacked Tables"</span>, <span class="st">"An example using gt_stack_tables"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tab2</span> <span class="op">&lt;-</span> <span class="fu">nycflights13</span><span class="fu">::</span><span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">slice_sample</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_theme_kenpom.html">gt_theme_kenpom</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">tab3</span> <span class="op">&lt;-</span> <span class="fu">nycflights13</span><span class="fu">::</span><span class="va">flights</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="fl">2</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu">slice_sample</span><span class="op">(</span>n <span class="op">=</span> <span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_theme_kenpom.html">gt_theme_kenpom</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/gt_538_caption.html">gt_538_caption</a></span><span class="op">(</span><span class="st">"You can include a caption on the bottom table"</span>, <span class="st">"Lower captions too"</span><span class="op">)</span></span></code></pre></div>
<p>When using <code>gt_stack_tables</code>, simply pass the tables as a
list:</p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gt_stack_tables.html">gt_stack_tables</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">tab1</span>, <span class="va">tab2</span>, <span class="va">tab3</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="images/stacked-tables-general.png" width="75%" style="display: block; margin: auto;"></p>
</div>
<div class="section level2">
<h2 id="saving-and-cropping-tables">Saving and cropping tables<a class="anchor" aria-label="anchor" href="#saving-and-cropping-tables"></a>
</h2>
<p>One of the most useful features for creating polished, ready-to-share
tables is the <code>gt_save_crop</code> function. This function not only
saves the table as an image but also trims any excess whitespace. It’s
particularly useful when you want to save a version of your table for
use on social media, etc.</p>
<p>Behind the scenes, <code>gt_save_crop</code> leverages
<code>gtsave_extra</code> from the <a href="https://github.com/jthomasmock/gtExtras" class="external-link">gtExtras</a> package –
which itself uses <code>webshot2</code> – and then passes a temporary
save of that table to <code>magick</code>. There, <code>magick</code>
will automatically crop your table with even whitespace widths on all
sides.</p>
<p>The <code>bg</code> argument controls the color of the background
added around the table. By default, it’s set to “white”, but you can
specify any valid color. If you are using a theme from
<code>gtUtils</code> and are unsure what background color to use, you
can reference the theme’s background color using
<code>gtUtils::theme_bg</code> to ensure consistency across your
tables.</p>
<p>All tables on this site, bar for a few at the top of this vignette,
were saved with this function.</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://gt.rstudio.com/reference/gt.html" class="external-link">gt</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/gt_save_crop.html">gt_save_crop</a></span><span class="op">(</span>file <span class="op">=</span> <span class="st">"cropped_table.png"</span>, whitespace <span class="op">=</span> <span class="fl">40</span>, bg <span class="op">=</span> <span class="st">"white"</span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andrew Weatherman.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
